# SourceTree

我们重点介绍下 SourceTree，SourceTree 可能是世界上最流行的 Git 图形管理工具了，因为它完全免费而且功能十分强大。

## 下载和安装

你可以从[官网](https://www.sourcetreeapp.com/)下载 SourceTree，打开安装界面打开然后进入如下这个步骤：
![CleanShot 2023-05-02 at 15.11.59@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683011530459-1e619f0f-0dc1-4d71-a1cb-1ff488d34a8c.png#averageHue=%23f4f4f3&clientId=u069fd63d-52bd-4&from=paste&height=505&id=u4141dbbe&originHeight=1010&originWidth=1440&originalType=binary&ratio=2&rotation=0&showTitle=false&size=117090&status=done&style=none&taskId=ua6094390-c07f-4e62-9041-cc57209dba5&title=&width=720)
这里会让你填写两个信息，这两个信息是干嘛的？其实它们就是：
```shell
$ git config --global user.name "Your Name"
$ git config --global user.email "email@example.com"
```
这是在我们学习“[1.1 安装 Git](https://www.yuque.com/kana/zys3kp/wmu0973mg4ekgzly)”时接触过的，当然你不写也没问题，可以直接点击完成。完成后 SourceTree 自动打开，出现如下界面：
![CleanShot 2023-05-02 at 15.15.53@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683011788905-5e7f924d-1134-4e67-b360-71874cfb428a.png#averageHue=%23f3f2f0&clientId=uc7bf4515-6c76-4&from=paste&height=629&id=ua68a803d&originHeight=1258&originWidth=966&originalType=binary&ratio=2&rotation=0&showTitle=false&size=224969&status=done&style=none&taskId=ub7355675-48fa-4557-875a-501225f5d5d&title=&width=483)
左上角显示了你的本地仓库以及远程仓库。现在你什么都没有，我们先把 Github 添加进远程仓库。
## 添加 Github

点击“连接”（如果没看见这个按钮，请点击左上角的“远端”）后出现一个账户设置窗口：
![CleanShot 2023-05-02 at 15.17.35@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683011875720-3ccb0c2d-ce95-4cb3-b695-0bd9da85995b.png#averageHue=%23fbf9f9&clientId=uc7bf4515-6c76-4&from=paste&height=420&id=u79d3f824&originHeight=840&originWidth=1780&originalType=binary&ratio=2&rotation=0&showTitle=false&size=97384&status=done&style=none&taskId=ubd51bbbb-7f15-490f-bc88-34cbbdcbe2f&title=&width=890)
点击“添加”：
![CleanShot 2023-05-02 at 15.18.16@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683011909391-226754d4-6868-4c81-b0d4-46ca585a9029.png#averageHue=%23d7d7d7&clientId=uc7bf4515-6c76-4&from=paste&height=420&id=u73f9b670&originHeight=840&originWidth=1776&originalType=binary&ratio=2&rotation=0&showTitle=false&size=289978&status=done&style=none&taskId=u978393a8-0224-4965-829c-b09e3bf3684&title=&width=888)

1. 托管主机：我们下拉列表选择 Github。
2. 协议：我们选择 HTTPS（当然如果你按照之前教程已经配置好了 SSH，你也可以选这个）。
3. 其余默认。

接着点击“连接账号”，会自动弹出 Github 的页面，然后你按照引导，登录你的账号后点击“Authorize atlassian”：
![CleanShot 2023-05-02 at 15.21.11@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683012100448-53d49473-026d-4f88-838f-370ff24a41f5.png#averageHue=%2375a26b&clientId=uc7bf4515-6c76-4&from=paste&height=722&id=u391ebf77&originHeight=1444&originWidth=1138&originalType=binary&ratio=2&rotation=0&showTitle=false&size=166486&status=done&style=none&taskId=u42cff92d-6209-4c77-8500-6af68d12017&title=&width=569)
点击后会提示你打开“SourceTree”，然后回到 SourceTree，下面的弹框你会看见“用户名”一栏已经被填写为你 Github 的用户名，这就代表连接成功了。然后我们点击“保存”：
![CleanShot 2023-05-02 at 15.26.10@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683012400733-39a9a0c5-adc1-43d8-8470-633451fa5912.png#averageHue=%23f6efef&clientId=uc7bf4515-6c76-4&from=paste&height=220&id=u9f9bcc61&originHeight=440&originWidth=920&originalType=binary&ratio=2&rotation=0&showTitle=false&size=65807&status=done&style=none&taskId=u80844731-e21b-4a8d-93f1-77371818d9d&title=&width=460)
保存后“账户列表”会增加你的信息：
![CleanShot 2023-05-02 at 15.26.43@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683012435265-c8183a5b-9774-436f-ade5-b3ae32a65814.png#averageHue=%23f8f7f7&clientId=uc7bf4515-6c76-4&from=paste&height=423&id=ub3af68ac&originHeight=846&originWidth=1774&originalType=binary&ratio=2&rotation=0&showTitle=false&size=112108&status=done&style=none&taskId=u6bf48550-5f0b-4d5b-ae94-38df6c4dd85&title=&width=887)
好，这样我们就不必配置 SSH，通过简单的方式连接到我们的 Github 账号了！我们回到主页面，你会发现你的远程库已经添加了很多仓库了，这都是 SourceTree 默认帮你从 Github 上拉取的（这里只是显示你的 Github 上有这些远程库，它们并没有被克隆到本地）：
![CleanShot 2023-05-02 at 15.29.23@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683012629424-3c772a6e-4c63-423c-92f9-9873dc80fd1d.png#averageHue=%23f8f6f6&clientId=uc7bf4515-6c76-4&from=paste&height=625&id=uae6d6c99&originHeight=1250&originWidth=964&originalType=binary&ratio=2&rotation=0&showTitle=false&size=91568&status=done&style=none&taskId=u95e31cf0-5168-4b0f-9fc8-3290ea3d4c3&title=&width=482)
找到之前我们创建的“git-learn”，点击右边的“克隆”，出现一个弹框让你设置克隆位置，选择好后点击“克隆”，该远程库就被克隆到本地了。当然我们本地其实已经有一份“git-learn”了，你可以取消克隆，继续后续的流程，也可以克隆到其他位置。
## SourceTree 主页面

回到 SourceTree 主页面，点击右上角的“本地”，会提示你“拖入一个文件夹或者扫描文件夹”，我们把本地的“git-learn”项目加载进去：
![CleanShot 2023-05-02 at 15.34.34@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683012882255-d851ef92-c42e-4a74-aa79-fb936408e6a9.png#averageHue=%23fafafa&clientId=uc7bf4515-6c76-4&from=paste&height=627&id=u180be8ab&originHeight=1254&originWidth=972&originalType=binary&ratio=2&rotation=0&showTitle=false&size=105137&status=done&style=none&taskId=u47e7cf12-3381-4f1a-b715-5ae92ca2d94&title=&width=486)
双击打开进入 Git 操作页面：
我们先点击如图红框这个按钮，点击“分体暂存视图”：
![CleanShot 2023-05-02 at 15.41.42@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683013314645-2bc58509-9dd7-4a0c-b8f5-340d77086dec.png#averageHue=%23eeedec&clientId=u183bc5e5-f36a-4&from=paste&height=917&id=ud6ef9e72&originHeight=1834&originWidth=3092&originalType=binary&ratio=2&rotation=0&showTitle=false&size=443915&status=done&style=none&taskId=u5bd34843-94e9-46b2-980c-3deb1f5393e&title=&width=1546)
发现了吗？现在提交区域分成了两个区域：“未暂存文件”和“已暂存文件”，这就对应着之前提到的“暂存区”的概念。我们尝试着勾选一个文件，会发现这个文件跑到上面的区域了。而上面暂存区的文件才是真正会被提交的文件，处于底下区域的文件是不会被提交的，是不是很方便？
![CleanShot 2023-05-02 at 15.44.28@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683013488072-65fb549a-ee6e-4f4f-8fa1-04fa8f00ebcb.png#averageHue=%23f4f2f1&clientId=u183bc5e5-f36a-4&from=paste&height=861&id=u0c1aeb5a&originHeight=1722&originWidth=2692&originalType=binary&ratio=2&rotation=0&showTitle=false&size=306675&status=done&style=none&taskId=u2817f784-7c04-4bba-8d11-2d3cdf1ee56&title=&width=1346)
我们继续关注主页面：
![CleanShot 2023-05-02 at 15.48.36@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683013737593-be162a30-d36a-4ca3-a9b5-4877c31b2f6c.png#averageHue=%23efefee&clientId=u183bc5e5-f36a-4&from=paste&height=888&id=u53aa0738&originHeight=1776&originWidth=3002&originalType=binary&ratio=2&rotation=0&showTitle=false&size=904222&status=done&style=none&taskId=ubd62fb12-8076-4041-940e-8fb492d298f&title=&width=1501)
我们主要关注如图几个区域：

1. 1 区域显示了该仓库的所有分支信息和标签等信息。
2. 2 区域了你本次修改的文件，具体功能上面提到过。
3. 单击 2 区域的文件会在 3 区域显示文件内容，你很容易看出哪些内容是新增的，哪些是删除的。
4. 4 区域就是提交了，它只会提交暂存区的文件。

输入完提交信息后点击“提交”，这对应着 `git commit -m "xxx"`。接着我们点击上方选项卡的“推送”，就可以正常执行推送操作了。
## 提交历史记录

我们点击历史可以看到所有历史提交记录：
![CleanShot 2023-05-02 at 15.51.13@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683013904624-a04b55e1-dc25-4e55-9168-d013cb983808.png#averageHue=%23f4efee&clientId=u183bc5e5-f36a-4&from=paste&height=890&id=u72752205&originHeight=1780&originWidth=3010&originalType=binary&ratio=2&rotation=0&showTitle=false&size=695639&status=done&style=none&taskId=u210d9855-88fb-4af1-ae4d-ffe5df8a6be&title=&width=1505)
点击每次提交记录我们还可以看到本次提交究竟修改了哪些文件以及具体修改了哪些内容。
## 分支管理

鼠标右键具体的分支，你就可以对分支进行操作了：
![CleanShot 2023-05-02 at 16.04.42@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683014702165-1d6f3bde-dfcc-4ccc-b635-f3daacdb9c68.png#averageHue=%23d7dad9&clientId=u5db2ab89-b832-4&from=paste&height=537&id=u04134f35&originHeight=1074&originWidth=708&originalType=binary&ratio=2&rotation=0&showTitle=false&size=245672&status=done&style=none&taskId=u136eab05-49ba-437f-80ef-74bc01ee3ff&title=&width=354)
学了前面的各种分支操作指令，你可能对如图的这些列表操作有些迷惑，但如果你在 SourceTree 的设置里面将软件的语言切换成英文的话，你可能就感到亲切了：
![CleanShot 2023-05-03 at 20.40.32@2x.png](https://cdn.nlark.com/yuque/0/2023/png/29695294/1683117645962-4307d9b7-c73b-46ca-ba40-664db1c993c1.png#averageHue=%23e9e8e7&clientId=u5021c938-dcd6-4&from=paste&height=665&id=ud3c7908b&originHeight=1330&originWidth=806&originalType=binary&ratio=2&rotation=0&showTitle=false&size=295939&status=done&style=none&taskId=u9cc0910d-cd29-4bf4-85dc-39a34deab25&title=&width=403)
“Checkout...”操作当然就是切换分支 `git checkout` 了，而 `Merge main into dev` 其实就是将 `main` 分支合并到 `dev` 分支，对应着 `git merge main`。
注意在合并分支时，需要注意是从哪个分支合并到哪个分支，操作时注意列表的提示语，它清楚的告诉你从哪个分支合并到哪个分支。要从其他分支合并到当前分支，你鼠标右键的位置应该是那个“其他分支”。
